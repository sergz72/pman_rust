namespace pman_lib {
  [Throws=PmanError]
  u64 prepare([ByRef]bytes data, [ByRef]string file_name);
  [Throws=PmanError]
  boolean is_read_only(u64 database_id);
  [Throws=PmanError]
  sequence<DownloadAction> pre_open(u64 database_id, string password, string? password2, [ByRef]bytes key_file_contents);
};

[Error]
interface PmanError {
    ErrorMessage(string error_text);
};

interface DownloadAction {
    string get_url();
    sequence<string> get_headers();
};